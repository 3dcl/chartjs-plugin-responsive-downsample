!function r(o,s,u){function p(e,t){if(!s[e]){if(!o[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[e]={exports:{}};o[e][0].call(a.exports,function(t){return p(o[e][1][t]||t)},a,a.exports,r,o,s,u)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)p(u[t]);return p}({1:[function(t,e,i){},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("moment"),a=(window&&window.moment&&window.moment,t("./utils"));function p(t){return"number"==typeof t?t:"string"==typeof t?new Date(t).getTime():t instanceof Date?t.getTime():t.valueOf()}i.rangeIsEqual=function(t,e){return!(a.isNil(t)||a.isNil(e)||a.isNil(t[0])||a.isNil(t[1])||a.isNil(e[0])||a.isNil(e[1]))&&(t=[p(t[0]),p(t[1])],e=[p(e[0]),p(e[1])],t[0]===e[0]&&t[1]==e[1])},i.getScaleRange=function(t){if(a.isNil(t))return[null,null];var e=t.getValueForPixel(t.left);null!=e._isAMomentObject&&(e=e.valueOf());var i=t.getValueForPixel(t.right);return null!=i._isAMomentObject&&(i=i.valueOf()),[e,i]},i.cullData=function(t,e){for(var i=p(e[0]),n=p(e[1]),a=0,r=t.length,o=1;o<t.length;++o){var s=t[o],u=p(s.x||s.t);if(u<=i&&(a=o),n<=u){r=o+1;break}}return t.slice(a,r)}},{"./utils":7,moment:1}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),a=(r.prototype.setData=function(t){this.originalData=t||[],this.mipMaps=[],this.resolution=this.computeResolution(this.originalData),this.createMipMap()},r.prototype.setMinNumPoints=function(t){this.minNumPoints=t,this.mipMaps=[],this.createMipMap()},r.prototype.getMipMapForResolution=function(t){return this.getMipMapLevel(this.getMipMapIndexForResolution(t))},r.prototype.getMipMapIndexForResolution=function(t){if(n.isNil(t))return 0;var e=t/this.resolution;return n.clamp(Math.floor(Math.log(e)/Math.log(2)),0,this.mipMaps.length-1)},r.prototype.getMipMapLevel=function(t){return this.mipMaps[t]},r.prototype.getMipMaps=function(){return this.mipMaps},r.prototype.getNumLevel=function(){return this.mipMaps.length},r.prototype.computeResolution=function(t){for(var e=1/0,i=0,n=this.originalData.length-1;i<n;++i)var a=this.originalData[i],r=this.originalData[i+1],e=Math.min(Math.abs(this.getTime(a)-this.getTime(r)),e);return e},r.prototype.createMipMap=function(){var t=this.resolution,e=this.originalData.length;this.mipMaps.push(this.originalData);for(var i=this.originalData;i.length>this.minNumPoints;)t*=2,e=Math.floor(.5*e),i=this.downsampleToResolution(i,t,e),this.mipMaps.push(i)},r.prototype.downsampleToResolution=function(t,e,i){var n=[],a=[],r=t[0];a.push(r);for(var o=1,s=t.length;o<s;++o){var u,p=t[o];Math.abs(this.getTime(r)-this.getTime(p))<e?a.push(p):(u=this.getAverage(a),n.push(u),a=[r=p])}return n.push(this.getAverage(a)),n},r.prototype.getAverage=function(t){var e=t.map(function(t){return t.y}).reduce(function(t,e){return t+e})/t.length;return{x:t[0].x||t[0].t,y:e}},r.prototype.getTime=function(t){var e=t.x||t.t;return"number"==typeof e?e:"string"==typeof e?new Date(e).getTime():e.getTime()},r);function r(t,e){void 0===e&&(e=2),this.minNumPoints=e,this.setData(t)}i.DataMipmap=a},{"./utils":7}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("chart.js"),a=window&&window.Chart?window.Chart:n.Chart,r=t("./responsive_downsample_plugin"),o=t("./responsive_downsample_plugin");i.ResponsiveDownsamplePlugin=o.ResponsiveDownsamplePlugin,a.pluginService.register(new r.ResponsiveDownsamplePlugin)},{"./responsive_downsample_plugin":6,"chart.js":1}],5:[function(t,e,i){"use strict";var n,a=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r,o=t("./utils"),s=t("./data_mipmap"),u=(r=s.DataMipmap,a(p,r),p.prototype.getMipMapIndexForResolution=function(e){if(o.isNil(e))return 0;var t=o.findIndexInArray(this.resolutions,function(t){return e<=t});return-1===t&&(t=this.resolutions.length-1),t},p.prototype.createMipMap=function(){var e=this;r.prototype.createMipMap.call(this),this.resolutions=this.mipMaps.map(function(t){return e.computeAverageResolution(t)})},p.prototype.downsampleToResolution=function(t,e,i){var n=t.length;if(n<=i||0===i)return t;var a,r,o,s=[],u=(n-2)/(i-2),p=0;s.push(t[p]);for(var l=0;l<i-2;++l){for(var f=0,c=0,g=Math.floor((l+1)*u)+1,h=Math.floor((l+2)*u)+1,d=(h=h<n?h:n)-g;g<h;g++)f+=this.getTime(t[g]),c+=+t[g].y;f/=d,c/=d;for(var m=Math.floor((l+0)*u)+1,v=Math.floor((l+1)*u)+1,M=t[p],D=this.getTime(M),y=+M.y,_=r=-1;m<v;m++)_<(r=.5*Math.abs((D-f)*(t[m].y-y)-(D-this.getTime(t[m]))*(c-y)))&&(_=r,a=t[m],o=m);s.push(a),p=o}return s.push(t[n-1]),s},p.prototype.computeAverageResolution=function(t){for(var e=0,i=0,n=this.originalData.length-1;i<n;++i){var a=this.originalData[i],r=this.originalData[i+1];e+=Math.abs(this.getTime(a)-this.getTime(r))}return e/(t.length-1)},p);function p(){return null!==r&&r.apply(this,arguments)||this}i.LTTBDataMipmap=u},{"./data_mipmap":3,"./utils":7}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("moment"),u=(window&&window.moment&&window.moment,t("./utils")),r=t("./data_mipmap"),o=t("./lttb_data_mipmap"),p=t("./data_culling"),a=(s.getPluginOptions=function(t){var e=t.options.responsiveDownsample||{};return u.defaultsDeep(e,{enabled:!1,aggregationAlgorithm:"LTTB",desiredDataPointDistance:1,minNumPoints:100,cullData:!0}),e.enabled&&(t.options.responsiveDownsample=e),e},s.hasDataChanged=function(t){return!u.isNil(u.findInArray(t.data.datasets,function(t){return u.isNil(t.mipMap)}))},s.createDataMipMap=function(t,a){t.data.datasets.forEach(function(t,e){var i=u.isNil(t.originalData)?t.data:t.originalData,n="LTTB"===a.aggregationAlgorithm?new o.LTTBDataMipmap(i,a.minNumPoints):new r.DataMipmap(i,a.minNumPoints);t.originalData=i,t.mipMap=n,t.data=n.getMipMapLevel(n.getNumLevel()-1)})},s.restoreOriginalData=function(t){var e=!1;return t.data.datasets.forEach(function(t){u.isNil(t.originalData)||t.data===t.originalData||(t.data=t.originalData,e=!0)}),e},s.getTargetResolution=function(t,e){var i=t.scales["x-axis-0"];if(u.isNil(i))return null;var n=i.getValueForPixel(i.left);return i.getValueForPixel(i.left+1).diff(n)*e.desiredDataPointDistance},s.updateMipMap=function(t,r,o){var s=!1;return t.data.datasets.forEach(function(t,e){var i,n,a=t.mipMap;u.isNil(a)||(i=a.getMipMapIndexForResolution(r.targetResolution))===t.currentMipMapLevel&&!o||(s=!0,t.currentMipMapLevel=i,n=a.getMipMapLevel(i),r.cullData&&(n=p.cullData(n,r.scaleRange)),t.data=n)}),s},s.prototype.beforeInit=function(t){var e=s.getPluginOptions(t);e.enabled&&(s.createDataMipMap(t,e),e.needsUpdate=!0)},s.prototype.beforeDatasetsUpdate=function(t){var e=s.getPluginOptions(t);if(!e.enabled)return e.needsUpdate=s.restoreOriginalData(t),delete e.targetResolution,void delete e.scaleRange;s.hasDataChanged(t)&&(s.createDataMipMap(t,e),e.needsUpdate=!0)},s.prototype.beforeRender=function(t){var e=s.getPluginOptions(t);if(!e.enabled)return e.needsUpdate?(e.needsUpdate=!1,t.update(0),!1):void 0;var i=s.getTargetResolution(t,e),n=t.scales["x-axis-0"],a=p.getScaleRange(n),r=!p.rangeIsEqual(e.scaleRange,a);return(e.needsUpdate||e.targetResolution!==i||r)&&(e.targetResolution=i,e.scaleRange=a,e.needsUpdate=!1,s.updateMipMap(t,e,r))?(t.update(0),!1):void 0},s);function s(){}i.ResponsiveDownsamplePlugin=a},{"./data_culling":2,"./data_mipmap":3,"./lttb_data_mipmap":5,"./utils":7,moment:1}],7:[function(t,e,i){"use strict";function n(t){return null==t}Object.defineProperty(i,"__esModule",{value:!0}),i.isNil=n,i.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},i.defaultsDeep=function t(e,i){for(var n in i){var a=e[n];void 0===a?e[n]=i[n]:null!==a&&"object"==typeof a&&(e[n]=t(a,i[n]))}return e},i.findInArray=function(t,e){if(!n(t))for(var i=0;i<t.length;i++)if(!0===e(t[i]))return t[i]},i.findIndexInArray=function(t,e){if(!n(t)){for(var i=0;i<t.length;i++)if(!0===e(t[i]))return i;return-1}}},{}]},{},[4]);